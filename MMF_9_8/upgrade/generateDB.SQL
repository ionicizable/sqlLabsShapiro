
-- DROP RELATIONSHIPS SECTION -------------------------------------------------

ALTER TABLE "MMF_9_8"."CONSTRUCTOR" DROP CONSTRAINT "FK_CONSTRUCTOR_COUNTRY"
/
ALTER TABLE "MMF_9_8"."PARTICIPANT" DROP CONSTRAINT "FK_CONSTRUCTOR"
/
ALTER TABLE "MMF_9_8"."PARTICIPANT" DROP CONSTRAINT "FK_DRIVER"
/
ALTER TABLE "MMF_9_8"."PARTICIPANT" DROP CONSTRAINT "FK_EVENT"
/
ALTER TABLE "MMF_9_8"."EVENT" DROP CONSTRAINT "FK_TRACK"
/
ALTER TABLE "MMF_9_8"."TRACK" DROP CONSTRAINT "FK_COUNTRY"
/




-- DROP KEYS FOR TABLES SECTION -------------------------------------------------

ALTER TABLE "MMF_9_8"."CONSTRUCTOR" DROP CONSTRAINT "PK_CONSTRUCTOR"
/
ALTER TABLE "MMF_9_8"."DRIVER" DROP CONSTRAINT "PK_DRIVER"
/
ALTER TABLE "MMF_9_8"."PARTICIPANT" DROP CONSTRAINT "PK_PARTICIPANT"
/
ALTER TABLE "MMF_9_8"."EVENT" DROP CONSTRAINT "PK_EVENT"
/
ALTER TABLE "MMF_9_8"."TRACK" DROP CONSTRAINT "PK_TRACK"
/
ALTER TABLE "MMF_9_8"."COUNTRY" DROP CONSTRAINT "PK_COUNTRY"
/


-- DROP INDEXES SECTION -------------------------------------------------

DROP INDEX "MMF_9_8"."IX_FK_CONSTRUCTOR_COUNTRY"
/
DROP INDEX "MMF_9_8"."IX_FK_EVENT"
/
DROP INDEX "MMF_9_8"."IX_FK_DRIVER"
/
DROP INDEX "MMF_9_8"."IX_FK_CONSTRUCTOR"
/
DROP INDEX "MMF_9_8"."IX_FK_TRACK"
/
DROP INDEX "MMF_9_8"."IX_FK_COUNTRY"
/


-- DROP TABLES SECTION ---------------------------------------------------

DROP TABLE "MMF_9_8"."CONSTRUCTOR"
/
DROP TABLE "MMF_9_8"."COUNTRY"
/
DROP TABLE "MMF_9_8"."DRIVER"
/
DROP TABLE "MMF_9_8"."PARTICIPANT"
/
DROP TABLE "MMF_9_8"."EVENT"
/
DROP TABLE "MMF_9_8"."TRACK"
/

-- CREATE TABLES SECTION -------------------------------------------------

-- TABLE MMF_9_8.TRACK

CREATE TABLE "MMF_9_8"."TRACK"(
  "ID" INTEGER NOT NULL,
  "TRACK_NAME" VARCHAR2(32 ),
  "LENGTH" INTEGER NOT NULL,
  "LAPS" INTEGER,
  "LONGITUDE" FLOAT,
  "LATITUDE" FLOAT,
  "COUNTRY_ID" INTEGER NOT NULL
)
TABLESPACE "MMF_9_8_DATA"
/

-- CREATE INDEXES FOR TABLE MMF_9_8.TRACK

CREATE INDEX "MMF_9_8"."IX_FK_COUNTRY" ON "MMF_9_8"."TRACK" ("COUNTRY_ID")
TABLESPACE "MMF_9_8_IDX"
/

-- ADD KEYS FOR TABLE MMF_9_8.TRACK

ALTER TABLE "MMF_9_8"."TRACK" ADD CONSTRAINT "PK_TRACK" PRIMARY KEY ("ID")
/

-- TABLE MMF_9_8.EVENT

CREATE TABLE "MMF_9_8"."EVENT"(
  "ID" INTEGER NOT NULL,
  "TRACK_ID" INTEGER,
  "GRAND_PRIX" VARCHAR2(32 ),
  "DATE" DATE NOT NULL
)
TABLESPACE "MMF_9_8_DATA"
/

-- CREATE INDEXES FOR TABLE MMF_9_8.EVENT

CREATE INDEX "MMF_9_8"."IX_FK_TRACK" ON "MMF_9_8"."EVENT" ("TRACK_ID")
TABLESPACE "MMF_9_8_IDX"
/

-- ADD KEYS FOR TABLE MMF_9_8.EVENT

ALTER TABLE "MMF_9_8"."EVENT" ADD CONSTRAINT "PK_EVENT" PRIMARY KEY ("ID")
/

-- TABLE MMF_9_8.PARTICIPANT

CREATE TABLE "MMF_9_8"."PARTICIPANT"(
  "ID" INTEGER NOT NULL,
  "EVENT_ID" INTEGER,
  "DRIVER_ID" INTEGER,
  "CONSTRUCTOR_ID" INTEGER,
  "START_POSITION" INTEGER,
  "FINISH_POSITION" INTEGER,
  "POINTS" INTEGER,
  "RESULT" INTERVAL DAY(2) TO SECOND(6)
)
TABLESPACE "MMF_9_8_DATA"
/

-- CREATE INDEXES FOR TABLE MMF_9_8.PARTICIPANT

CREATE INDEX "MMF_9_8"."IX_FK_EVENT" ON "MMF_9_8"."PARTICIPANT" ("EVENT_ID")
TABLESPACE "MMF_9_8_IDX"
/

CREATE INDEX "MMF_9_8"."IX_FK_DRIVER" ON "MMF_9_8"."PARTICIPANT" ("DRIVER_ID")
TABLESPACE "MMF_9_8_IDX"
/

CREATE INDEX "MMF_9_8"."IX_FK_CONSTRUCTOR" ON "MMF_9_8"."PARTICIPANT" ("CONSTRUCTOR_ID")
TABLESPACE "MMF_9_8_IDX"
/

-- ADD KEYS FOR TABLE MMF_9_8.PARTICIPANT

ALTER TABLE "MMF_9_8"."PARTICIPANT" ADD CONSTRAINT "PK_PARTICIPANT" PRIMARY KEY ("ID")
/

-- TABLE MMF_9_8.DRIVER

CREATE TABLE "MMF_9_8"."DRIVER"(
  "ID" INTEGER NOT NULL,
  "FIRST_NAME" VARCHAR2(30 ) NOT NULL,
  "LAST_NAME" VARCHAR2(32 )
)
TABLESPACE "MMF_9_8_DATA"
/

-- ADD KEYS FOR TABLE MMF_9_8.DRIVER

ALTER TABLE "MMF_9_8"."DRIVER" ADD CONSTRAINT "PK_DRIVER" PRIMARY KEY ("ID")
/

-- TABLE MMF_9_8.COUNTRY

CREATE TABLE "MMF_9_8"."COUNTRY"(
  "ID" INTEGER NOT NULL,
  "NAME" VARCHAR2(32 ) NOT NULL
)
TABLESPACE "MMF_9_8_DATA"
/

-- ADD KEYS FOR TABLE MMF_9_8.COUNTRY

ALTER TABLE "MMF_9_8"."COUNTRY" ADD CONSTRAINT "PK_COUNTRY" PRIMARY KEY ("ID")
/

-- TABLE MMF_9_8.CONSTRUCTOR

CREATE TABLE "MMF_9_8"."CONSTRUCTOR"(
  "ID" INTEGER NOT NULL,
  "BRAND_NAME" VARCHAR2(32 ) NOT NULL,
  "COUNTRY_ID" INTEGER
)
TABLESPACE "MMF_9_8_DATA"
/

-- CREATE INDEXES FOR TABLE MMF_9_8.CONSTRUCTOR

CREATE INDEX "MMF_9_8"."IX_FK_CONSTRUCTOR_COUNTRY" ON "MMF_9_8"."CONSTRUCTOR" ("COUNTRY_ID")
TABLESPACE "MMF_9_8_IDX"
/

-- ADD KEYS FOR TABLE MMF_9_8.CONSTRUCTOR

ALTER TABLE "MMF_9_8"."CONSTRUCTOR" ADD CONSTRAINT "PK_CONSTRUCTOR" PRIMARY KEY ("ID")
/


-- CREATE FOREIGN KEYS (RELATIONSHIPS) SECTION ------------------------------------------------- 

ALTER TABLE "MMF_9_8"."TRACK" ADD CONSTRAINT "FK_COUNTRY" FOREIGN KEY ("COUNTRY_ID") REFERENCES "MMF_9_8"."COUNTRY" ("ID") ON DELETE CASCADE
/



ALTER TABLE "MMF_9_8"."EVENT" ADD CONSTRAINT "FK_TRACK" FOREIGN KEY ("TRACK_ID") REFERENCES "MMF_9_8"."TRACK" ("ID") ON DELETE CASCADE
/



ALTER TABLE "MMF_9_8"."PARTICIPANT" ADD CONSTRAINT "FK_EVENT" FOREIGN KEY ("EVENT_ID") REFERENCES "MMF_9_8"."EVENT" ("ID") ON DELETE CASCADE
/



ALTER TABLE "MMF_9_8"."PARTICIPANT" ADD CONSTRAINT "FK_DRIVER" FOREIGN KEY ("DRIVER_ID") REFERENCES "MMF_9_8"."DRIVER" ("ID") ON DELETE CASCADE
/



ALTER TABLE "MMF_9_8"."PARTICIPANT" ADD CONSTRAINT "FK_CONSTRUCTOR" FOREIGN KEY ("CONSTRUCTOR_ID") REFERENCES "MMF_9_8"."CONSTRUCTOR" ("ID") ON DELETE CASCADE
/



ALTER TABLE "MMF_9_8"."CONSTRUCTOR" ADD CONSTRAINT "FK_CONSTRUCTOR_COUNTRY" FOREIGN KEY ("COUNTRY_ID") REFERENCES "MMF_9_8"."COUNTRY" ("ID") ON DELETE CASCADE
/




-- GRANT PERMISSIONS SECTION -------------------------------------------------


